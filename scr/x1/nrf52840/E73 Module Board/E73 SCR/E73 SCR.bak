EESchema Schematic File Version 4
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L nrf52-modules:E73-2G4M08S1C-52840 U3
U 1 1 5CB695CE
P 5700 3350
F 0 "U3" H 5700 2150 50  0000 C CNN
F 1 "E73-2G4M08S1C-52840" V 5400 2100 50  0000 C CNN
F 2 "" H 5700 3350 50  0001 C CNN
F 3 "" H 5700 3350 50  0001 C CNN
	1    5700 3350
	1    0    0    -1  
$EndComp
Wire Wire Line
	5350 5700 5450 5700
Wire Wire Line
	5450 5700 5550 5700
Connection ~ 5450 5700
$Comp
L power:GND #PWR025
U 1 1 5CB69648
P 5450 6050
F 0 "#PWR025" H 5450 5800 50  0001 C CNN
F 1 "GND" H 5455 5877 50  0000 C CNN
F 2 "" H 5450 6050 50  0001 C CNN
F 3 "" H 5450 6050 50  0001 C CNN
	1    5450 6050
	1    0    0    -1  
$EndComp
Wire Wire Line
	5450 5700 5450 6050
Wire Wire Line
	5450 2200 5350 2200
$Comp
L power:+3.3V #PWR022
U 1 1 5CB6971D
P 5350 1950
F 0 "#PWR022" H 5350 1800 50  0001 C CNN
F 1 "+3.3V" H 5365 2123 50  0000 C CNN
F 2 "" H 5350 1950 50  0001 C CNN
F 3 "" H 5350 1950 50  0001 C CNN
	1    5350 1950
	1    0    0    -1  
$EndComp
Wire Wire Line
	5350 2200 5350 1950
Connection ~ 5350 2200
$Comp
L Connector:Conn_01x05_Male J4
U 1 1 5CB6993D
P 8350 2850
F 0 "J4" H 8322 2780 50  0000 R CNN
F 1 "JOY" H 8322 2871 50  0000 R CNN
F 2 "" H 8350 2850 50  0001 C CNN
F 3 "~" H 8350 2850 50  0001 C CNN
	1    8350 2850
	-1   0    0    1   
$EndComp
$Comp
L Connector:Conn_01x03_Male J5
U 1 1 5CB69AE6
P 8400 3600
F 0 "J5" H 8372 3530 50  0000 R CNN
F 1 "SWTCH" H 8372 3621 50  0000 R CNN
F 2 "" H 8400 3600 50  0001 C CNN
F 3 "~" H 8400 3600 50  0001 C CNN
	1    8400 3600
	-1   0    0    1   
$EndComp
$Comp
L Connector:USB_B_Micro J1
U 1 1 5CB69CBE
P 1600 1800
F 0 "J1" H 1655 2267 50  0000 C CNN
F 1 "USB_B_Micro" H 1655 2176 50  0000 C CNN
F 2 "" H 1750 1750 50  0001 C CNN
F 3 "~" H 1750 1750 50  0001 C CNN
	1    1600 1800
	1    0    0    -1  
$EndComp
Text GLabel 1900 1800 2    50   Input ~ 0
D+
Text GLabel 1900 1900 2    50   Input ~ 0
D-
Text GLabel 5000 2750 0    50   Input ~ 0
D+
Text GLabel 5000 2850 0    50   Input ~ 0
D-
$Comp
L Connector_Generic:Conn_02x05_Odd_Even J2
U 1 1 5CB6A0E2
P 3400 4350
F 0 "J2" H 3450 4767 50  0000 C CNN
F 1 "Conn_02x05_Odd_Even" H 3450 4676 50  0000 C CNN
F 2 "" H 3400 4350 50  0001 C CNN
F 3 "~" H 3400 4350 50  0001 C CNN
	1    3400 4350
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR018
U 1 1 5CB6A281
P 3950 4150
F 0 "#PWR018" H 3950 4000 50  0001 C CNN
F 1 "+3.3V" H 3965 4323 50  0000 C CNN
F 2 "" H 3950 4150 50  0001 C CNN
F 3 "" H 3950 4150 50  0001 C CNN
	1    3950 4150
	1    0    0    -1  
$EndComp
Wire Wire Line
	3950 4150 3700 4150
Text Notes 2750 4800 0    50   ~ 10
Check this wiring.  Guessing from Adafruit
NoConn ~ 1900 2000
$Comp
L power:GND #PWR09
U 1 1 5CB6A351
P 1600 2450
F 0 "#PWR09" H 1600 2200 50  0001 C CNN
F 1 "GND" H 1605 2277 50  0000 C CNN
F 2 "" H 1600 2450 50  0001 C CNN
F 3 "" H 1600 2450 50  0001 C CNN
	1    1600 2450
	1    0    0    -1  
$EndComp
Wire Wire Line
	1600 2200 1600 2450
$Comp
L power:VBUS #PWR012
U 1 1 5CB6A4C6
P 2050 1600
F 0 "#PWR012" H 2050 1450 50  0001 C CNN
F 1 "VBUS" H 2065 1773 50  0000 C CNN
F 2 "" H 2050 1600 50  0001 C CNN
F 3 "" H 2050 1600 50  0001 C CNN
	1    2050 1600
	1    0    0    -1  
$EndComp
Wire Wire Line
	2050 1600 1900 1600
$Comp
L power:VBUS #PWR026
U 1 1 5CB6A5B0
P 5650 1950
F 0 "#PWR026" H 5650 1800 50  0001 C CNN
F 1 "VBUS" H 5665 2123 50  0000 C CNN
F 2 "" H 5650 1950 50  0001 C CNN
F 3 "" H 5650 1950 50  0001 C CNN
	1    5650 1950
	1    0    0    -1  
$EndComp
Wire Wire Line
	5650 1950 5650 2200
$Comp
L Connector:Conn_01x02_Male J3
U 1 1 5CB6A776
P 6450 6850
F 0 "J3" H 6422 6730 50  0000 R CNN
F 1 "BAT" H 6422 6821 50  0000 R CNN
F 2 "" H 6450 6850 50  0001 C CNN
F 3 "~" H 6450 6850 50  0001 C CNN
	1    6450 6850
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR06
U 1 1 5CB6AA47
P 1150 3950
F 0 "#PWR06" H 1150 3700 50  0001 C CNN
F 1 "GND" H 1155 3777 50  0000 C CNN
F 2 "" H 1150 3950 50  0001 C CNN
F 3 "" H 1150 3950 50  0001 C CNN
	1    1150 3950
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR05
U 1 1 5CB6AAC7
P 1150 3650
F 0 "#PWR05" H 1150 3500 50  0001 C CNN
F 1 "+3.3V" H 1165 3823 50  0000 C CNN
F 2 "" H 1150 3650 50  0001 C CNN
F 3 "" H 1150 3650 50  0001 C CNN
	1    1150 3650
	1    0    0    -1  
$EndComp
$Comp
L Device:C C2
U 1 1 5CB6AB09
P 1150 3800
F 0 "C2" V 1000 3750 50  0000 L CNN
F 1 "0.1uF" V 1300 3700 50  0000 L CNN
F 2 "" H 1188 3650 50  0001 C CNN
F 3 "~" H 1150 3800 50  0001 C CNN
	1    1150 3800
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR02
U 1 1 5CB6AF47
P 750 3950
F 0 "#PWR02" H 750 3700 50  0001 C CNN
F 1 "GND" H 755 3777 50  0000 C CNN
F 2 "" H 750 3950 50  0001 C CNN
F 3 "" H 750 3950 50  0001 C CNN
	1    750  3950
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR01
U 1 1 5CB6AF4D
P 750 3650
F 0 "#PWR01" H 750 3500 50  0001 C CNN
F 1 "+3.3V" H 765 3823 50  0000 C CNN
F 2 "" H 750 3650 50  0001 C CNN
F 3 "" H 750 3650 50  0001 C CNN
	1    750  3650
	1    0    0    -1  
$EndComp
$Comp
L Device:C C1
U 1 1 5CB6AF53
P 750 3800
F 0 "C1" V 600 3750 50  0000 L CNN
F 1 "10uF" V 900 3700 50  0000 L CNN
F 2 "" H 788 3650 50  0001 C CNN
F 3 "~" H 750 3800 50  0001 C CNN
	1    750  3800
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR08
U 1 1 5CB6B015
P 1550 3950
F 0 "#PWR08" H 1550 3700 50  0001 C CNN
F 1 "GND" H 1555 3777 50  0000 C CNN
F 2 "" H 1550 3950 50  0001 C CNN
F 3 "" H 1550 3950 50  0001 C CNN
	1    1550 3950
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR07
U 1 1 5CB6B01B
P 1550 3650
F 0 "#PWR07" H 1550 3500 50  0001 C CNN
F 1 "+3.3V" H 1565 3823 50  0000 C CNN
F 2 "" H 1550 3650 50  0001 C CNN
F 3 "" H 1550 3650 50  0001 C CNN
	1    1550 3650
	1    0    0    -1  
$EndComp
$Comp
L Device:C C3
U 1 1 5CB6B021
P 1550 3800
F 0 "C3" V 1400 3750 50  0000 L CNN
F 1 "0.1uF" V 1700 3700 50  0000 L CNN
F 2 "" H 1588 3650 50  0001 C CNN
F 3 "~" H 1550 3800 50  0001 C CNN
	1    1550 3800
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR011
U 1 1 5CB6B118
P 1950 3950
F 0 "#PWR011" H 1950 3700 50  0001 C CNN
F 1 "GND" H 1955 3777 50  0000 C CNN
F 2 "" H 1950 3950 50  0001 C CNN
F 3 "" H 1950 3950 50  0001 C CNN
	1    1950 3950
	1    0    0    -1  
$EndComp
$Comp
L Device:C C4
U 1 1 5CB6B124
P 1950 3800
F 0 "C4" V 1800 3750 50  0000 L CNN
F 1 "10uF" V 2100 3700 50  0000 L CNN
F 2 "" H 1988 3650 50  0001 C CNN
F 3 "~" H 1950 3800 50  0001 C CNN
	1    1950 3800
	1    0    0    -1  
$EndComp
$Comp
L power:VBUS #PWR010
U 1 1 5CB6B1D4
P 1950 3650
F 0 "#PWR010" H 1950 3500 50  0001 C CNN
F 1 "VBUS" H 1965 3823 50  0000 C CNN
F 2 "" H 1950 3650 50  0001 C CNN
F 3 "" H 1950 3650 50  0001 C CNN
	1    1950 3650
	1    0    0    -1  
$EndComp
Text GLabel 3200 4150 0    50   Input ~ 10
SWDIO
Text GLabel 3200 4250 0    50   Input ~ 10
SWCLK
Text GLabel 5000 3400 0    50   Input ~ 10
SWDIO
Text GLabel 5000 3500 0    50   Input ~ 10
SWCLK
Text GLabel 5000 3900 0    50   Input ~ 10
RESET
Text GLabel 3200 4550 0    50   Input ~ 10
RESET
$Comp
L power:GND #PWR019
U 1 1 5CB6B4D9
P 3950 4450
F 0 "#PWR019" H 3950 4200 50  0001 C CNN
F 1 "GND" H 3955 4277 50  0000 C CNN
F 2 "" H 3950 4450 50  0001 C CNN
F 3 "" H 3950 4450 50  0001 C CNN
	1    3950 4450
	1    0    0    -1  
$EndComp
Wire Wire Line
	3950 4450 3700 4450
Wire Wire Line
	3700 4450 3700 4350
Connection ~ 3700 4450
Wire Wire Line
	3700 4450 3700 4550
Wire Wire Line
	3700 4350 3700 4250
Connection ~ 3700 4350
$Comp
L Battery_Management:MCP73831-2-OT U2
U 1 1 5CB6BB73
P 4500 7000
F 0 "U2" H 4600 6700 50  0000 C CNN
F 1 "MCP73831-2-OT" H 4850 6600 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23-5" H 4550 6750 50  0001 L CIN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/20001984g.pdf" H 4350 6950 50  0001 C CNN
	1    4500 7000
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR020
U 1 1 5CB6BBDC
P 4500 7500
F 0 "#PWR020" H 4500 7250 50  0001 C CNN
F 1 "GND" H 4505 7327 50  0000 C CNN
F 2 "" H 4500 7500 50  0001 C CNN
F 3 "" H 4500 7500 50  0001 C CNN
	1    4500 7500
	1    0    0    -1  
$EndComp
$Comp
L Device:R RPROG
U 1 1 5CB6BC34
P 4000 7350
F 0 "RPROG" H 4070 7396 50  0000 L CNN
F 1 "4.7K" V 4000 7250 50  0000 L CNN
F 2 "" V 3930 7350 50  0001 C CNN
F 3 "~" H 4000 7350 50  0001 C CNN
	1    4000 7350
	1    0    0    -1  
$EndComp
Wire Wire Line
	4000 7500 4500 7500
Wire Wire Line
	4500 7500 4500 7300
Connection ~ 4500 7500
Wire Wire Line
	4000 7200 4000 7100
Wire Wire Line
	4000 7100 4100 7100
$Comp
L power:+BATT #PWR021
U 1 1 5CB6C181
P 5000 6800
F 0 "#PWR021" H 5000 6650 50  0001 C CNN
F 1 "+BATT" H 5015 6973 50  0000 C CNN
F 2 "" H 5000 6800 50  0001 C CNN
F 3 "" H 5000 6800 50  0001 C CNN
	1    5000 6800
	1    0    0    -1  
$EndComp
Wire Wire Line
	4900 6900 5000 6900
Wire Wire Line
	5000 6900 5000 6800
$Comp
L power:+BATT #PWR023
U 1 1 5CB6C32B
P 6100 6750
F 0 "#PWR023" H 6100 6600 50  0001 C CNN
F 1 "+BATT" H 6115 6923 50  0000 C CNN
F 2 "" H 6100 6750 50  0001 C CNN
F 3 "" H 6100 6750 50  0001 C CNN
	1    6100 6750
	1    0    0    -1  
$EndComp
Wire Wire Line
	6100 6750 6250 6750
$Comp
L power:GND #PWR024
U 1 1 5CB6C4EC
P 6100 6850
F 0 "#PWR024" H 6100 6600 50  0001 C CNN
F 1 "GND" H 6105 6677 50  0000 C CNN
F 2 "" H 6100 6850 50  0001 C CNN
F 3 "" H 6100 6850 50  0001 C CNN
	1    6100 6850
	1    0    0    -1  
$EndComp
Wire Wire Line
	6100 6850 6250 6850
$Comp
L Regulator_Linear:AP2112K-3.3 U1
U 1 1 5CB6CC36
P 2900 7000
F 0 "U1" H 2900 7342 50  0000 C CNN
F 1 "AP2112K-3.3" H 2900 7251 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23-5" H 2900 7325 50  0001 C CNN
F 3 "https://www.diodes.com/assets/Datasheets/AP2112.pdf" H 2900 7100 50  0001 C CNN
	1    2900 7000
	1    0    0    -1  
$EndComp
$Comp
L power:VBUS #PWR03
U 1 1 5CB6CC96
P 850 6500
F 0 "#PWR03" H 850 6350 50  0001 C CNN
F 1 "VBUS" H 865 6673 50  0000 C CNN
F 2 "" H 850 6500 50  0001 C CNN
F 3 "" H 850 6500 50  0001 C CNN
	1    850  6500
	1    0    0    -1  
$EndComp
$Comp
L power:+BATT #PWR013
U 1 1 5CB6CCE6
P 2050 6500
F 0 "#PWR013" H 2050 6350 50  0001 C CNN
F 1 "+BATT" H 2065 6673 50  0000 C CNN
F 2 "" H 2050 6500 50  0001 C CNN
F 3 "" H 2050 6500 50  0001 C CNN
	1    2050 6500
	1    0    0    -1  
$EndComp
$Comp
L Device:C C5
U 1 1 5CB6CEFF
P 2050 7050
F 0 "C5" H 1850 7100 50  0000 L CNN
F 1 "10uF" V 2200 6950 50  0000 L CNN
F 2 "" H 2088 6900 50  0001 C CNN
F 3 "~" H 2050 7050 50  0001 C CNN
	1    2050 7050
	1    0    0    -1  
$EndComp
$Comp
L Device:R R2
U 1 1 5CB6CFDF
P 2350 7050
F 0 "R2" H 2420 7096 50  0000 L CNN
F 1 "100K" V 2350 6950 50  0000 L CNN
F 2 "" V 2280 7050 50  0001 C CNN
F 3 "~" H 2350 7050 50  0001 C CNN
	1    2350 7050
	1    0    0    -1  
$EndComp
Wire Wire Line
	2350 7200 2600 7200
Wire Wire Line
	2600 7200 2600 7000
Wire Wire Line
	2350 6900 2600 6900
Wire Wire Line
	2350 6900 2050 6900
Connection ~ 2350 6900
Wire Wire Line
	2050 6900 1950 6900
Connection ~ 2050 6900
$Comp
L power:GND #PWR014
U 1 1 5CB6DC8A
P 2050 7350
F 0 "#PWR014" H 2050 7100 50  0001 C CNN
F 1 "GND" H 2055 7177 50  0000 C CNN
F 2 "" H 2050 7350 50  0001 C CNN
F 3 "" H 2050 7350 50  0001 C CNN
	1    2050 7350
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR015
U 1 1 5CB6DCBC
P 2900 7350
F 0 "#PWR015" H 2900 7100 50  0001 C CNN
F 1 "GND" H 2905 7177 50  0000 C CNN
F 2 "" H 2900 7350 50  0001 C CNN
F 3 "" H 2900 7350 50  0001 C CNN
	1    2900 7350
	1    0    0    -1  
$EndComp
$Comp
L Device:R R1
U 1 1 5CB6DCE7
P 850 7050
F 0 "R1" H 920 7096 50  0000 L CNN
F 1 "100K" V 850 6950 50  0000 L CNN
F 2 "" V 780 7050 50  0001 C CNN
F 3 "~" H 850 7050 50  0001 C CNN
	1    850  7050
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR04
U 1 1 5CB6DD31
P 850 7350
F 0 "#PWR04" H 850 7100 50  0001 C CNN
F 1 "GND" H 855 7177 50  0000 C CNN
F 2 "" H 850 7350 50  0001 C CNN
F 3 "" H 850 7350 50  0001 C CNN
	1    850  7350
	1    0    0    -1  
$EndComp
Wire Wire Line
	850  7200 850  7350
Wire Wire Line
	2050 7350 2050 7200
Wire Wire Line
	2900 7300 2900 7350
Wire Wire Line
	850  6900 850  6700
$Comp
L power:+3.3V #PWR016
U 1 1 5CB6ED21
P 3450 6900
F 0 "#PWR016" H 3450 6750 50  0001 C CNN
F 1 "+3.3V" H 3465 7073 50  0000 C CNN
F 2 "" H 3450 6900 50  0001 C CNN
F 3 "" H 3450 6900 50  0001 C CNN
	1    3450 6900
	1    0    0    -1  
$EndComp
$Comp
L Device:C C6
U 1 1 5CB6EDC0
P 3450 7050
F 0 "C6" H 3250 7100 50  0000 L CNN
F 1 "10uF" V 3600 6950 50  0000 L CNN
F 2 "" H 3488 6900 50  0001 C CNN
F 3 "~" H 3450 7050 50  0001 C CNN
	1    3450 7050
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR017
U 1 1 5CB6EE2E
P 3450 7350
F 0 "#PWR017" H 3450 7100 50  0001 C CNN
F 1 "GND" H 3455 7177 50  0000 C CNN
F 2 "" H 3450 7350 50  0001 C CNN
F 3 "" H 3450 7350 50  0001 C CNN
	1    3450 7350
	1    0    0    -1  
$EndComp
Wire Wire Line
	3450 7350 3450 7200
Wire Wire Line
	3200 6900 3450 6900
Connection ~ 3450 6900
$Comp
L Device:Q_PMOS_GSD Q1
U 1 1 5CB6F9ED
P 1950 6700
F 0 "Q1" H 2156 6746 50  0000 L CNN
F 1 "AO3401" H 1700 6850 50  0000 L CNN
F 2 "" H 2150 6800 50  0001 C CNN
F 3 "~" H 1950 6700 50  0001 C CNN
	1    1950 6700
	1    0    0    -1  
$EndComp
Connection ~ 850  6700
Wire Wire Line
	850  6700 850  6500
$Comp
L Diode:BAT54S D1
U 1 1 5CB7054D
P 1650 6900
F 0 "D1" H 1650 6950 50  0000 C CNN
F 1 "BAT54S" H 1450 6800 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 1725 7025 50  0001 L CNN
F 3 "https://www.diodes.com/assets/Datasheets/ds11005.pdf" H 1530 6900 50  0001 C CNN
	1    1650 6900
	1    0    0    -1  
$EndComp
Wire Wire Line
	850  6900 1200 6900
Wire Wire Line
	1200 6900 1200 7200
Wire Wire Line
	1200 7200 1650 7200
Wire Wire Line
	1650 7200 1650 7100
Connection ~ 850  6900
NoConn ~ 1350 6900
Wire Wire Line
	850  6700 1750 6700
$Comp
L power:VBUS #PWR?
U 1 1 5CB739E4
P 4500 6550
F 0 "#PWR?" H 4500 6400 50  0001 C CNN
F 1 "VBUS" H 4515 6723 50  0000 C CNN
F 2 "" H 4500 6550 50  0001 C CNN
F 3 "" H 4500 6550 50  0001 C CNN
	1    4500 6550
	1    0    0    -1  
$EndComp
Wire Wire Line
	4500 6550 4500 6700
$Comp
L power:VBUS #PWR?
U 1 1 5CB74915
P 5550 7100
F 0 "#PWR?" H 5550 6950 50  0001 C CNN
F 1 "VBUS" H 5565 7273 50  0000 C CNN
F 2 "" H 5550 7100 50  0001 C CNN
F 3 "" H 5550 7100 50  0001 C CNN
	1    5550 7100
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5CB7494D
P 5050 7100
F 0 "R?" H 5120 7146 50  0000 L CNN
F 1 "1K" V 5050 7050 50  0000 L CNN
F 2 "" V 4980 7100 50  0001 C CNN
F 3 "~" H 5050 7100 50  0001 C CNN
	1    5050 7100
	0    1    1    0   
$EndComp
$Comp
L Device:LED D?
U 1 1 5CB74A77
P 5350 7100
F 0 "D?" H 5341 7316 50  0000 C CNN
F 1 "CHG" H 5341 7225 50  0000 C CNN
F 2 "" H 5350 7100 50  0001 C CNN
F 3 "~" H 5350 7100 50  0001 C CNN
	1    5350 7100
	1    0    0    -1  
$EndComp
Wire Wire Line
	5500 7100 5550 7100
Text Notes 3700 7700 0    50   ~ 0
RPROG\n10K = 100mA\n5.0K = 200mA
$EndSCHEMATC
